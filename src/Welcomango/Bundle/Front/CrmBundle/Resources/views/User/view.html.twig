{% extends "::front.html.twig" %}

{% trans_default_domain "user" %}

{#{% form_theme form with ["::frontTheme.html.twig"] %}#}

{% block page_content %}

    <section class="p-b-20 bg-primary-dark m-t-100 sm-no-margin ">
        <div class="container p-t-50">
            <div class="row">
                <div class="col-md-3"><br/></div>
                <div class="col-md-9">
                    <h2 class="text-white">{{ user.fullname }}</h2>
                    <h4 class="text-white">{{ user.currentCity.name}}, {{ user.currentCity.country.name}}</h4>
                    <h4 class="text-white">{{ user.getAge}}</h4>
                </div>
            </div>
        </div>
    </section>

    <section class="container-fluid container-fixed-lg p-b-50  bg-white">
        <div class="container">
            <div class="panel col-md-3">
                <div id="user-picture-container">
                    <div class="user-picture user-img-1" style="background-image:url({{ asset("img/front/faces/face" ~ random(5) ~ ".jpg") }})"></div>
                </div>
                <div id="user-info" class="bg-master-lighter m-t-10 p-l-10 p-t-10 p-b-10 p-r-10">
                    <div id="user-info-details" class="m-b-10">
                        <div><span class="bold">Occupation:</span> {{ user.occupation }}</div>
                        <div><span class="bold">From:</span> {{ user.fromCity.name }}</div>
                        <div><span class="bold">Current City:</span> {{ user.currentCity.name}}</div>
                        <div><span class="bold">Gender:</span> {{ user.gender}}</div>
                    </div>
                    <hr/>
                    <div class=" m-b-15 ">
                        <div class="bold m-b-10">{{ 'user.languagespoken'|trans }}</div>
                        {% for language in user.getSpokenLanguages.getValues %}
                            <div class="flag flag-xs" role="image"  style="background: url({{ asset('img/countries/'~ language.language.flagLabel|lower ~'.svg') }});"></div>
                        {% endfor %}

                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- START PAST EXPERIENCES SECTION -->
    <section class="container-fluid bg-master-lighter container-fixed-lg p-b-50">
        <div class="row">
            <div class="container">
                <div class="text-center m-b-40 m-t-40">
                    <h2>Last experiences attented by {{ user.firstname }}</h2>
                </div>
                {% for experience in attendedExperiences  %}
                    {{ include("WelcomangoFrontExperienceBundle:Experience:_experienceTile.html.twig", { 'experiences': attendedExperiences, 'column': 3, 'limit': 3}) }}
                {% endfor %}
            </div>
        </div>
        <div id="userMap"></div>
    </section>
    <!-- END PAST EXPERIENCES SECTION -->

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script type="text/javascript">
        google.maps.event.addDomListener(window, 'load', init);

        var map;
        var zoomLevel = 11;

        function init() {
            // Basic options for a simple Google Map
            // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
            var mapOptions = {
                // How zoomed in you want the map to start at (always required)
                zoom: zoomLevel,
                disableDefaultUI: true,
                // The latitude and longitude to center the map (always required)
                center: new google.maps.LatLng(40.6700, -73.9400), // New York
            };

            // Get the HTML DOM element that will contain your map
            // We are using a div with id="map" seen below in the
            var mapElement = document.getElementById('userMap');

            // Create the Google Map using out element and options defined above
            map = new google.maps.Map(mapElement, mapOptions);
        }
    </script>
{% endblock %}